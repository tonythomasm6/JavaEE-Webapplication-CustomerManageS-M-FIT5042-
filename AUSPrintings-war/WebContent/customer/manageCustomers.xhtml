<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:rich="http://richfaces.org/rich"> 
<ui:composition template="../staff/header.xhtml">
<ui:define name="PageTitle"><h></h></ui:define>
<ui:define name="content">
<h:head>
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css"/>
        <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css"/>
        
        <script src="//code.jquery.com/jquery-3.5.1.js" type="text/javascript"></script>
        <script src="//cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js" type="text/javascript"></script>
        <script src="//cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js" type="text/javascript"></script>
	
	
	
	  <script>
 $(document).ready(function () {
     $('#tableData').DataTable();
 });
    </script>
    
    
    
</h:head>

<h:link value="Add Customer" outcome="addCustomer.xhtml"/>


<h:body>
<h:form>

<br /><br />

<table id="tableData"  class="table table-striped table-bordered" style="width:100%">
		<thead>
            <tr>
                <th>Customer ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Phone Number</th>
                <th>Email</th>
                <th>Industry Type</th>
                <th> &nbsp;</th>
            </tr>
        </thead>
        
		<tbody>
		<c:forEach items="#{manageCustomersBean.customers}" var="customer">
    		<tr>
    			<td>#{customer.customerId}</td>
    			<td>#{customer.firstName}</td>
    			<td>#{customer.lastName}</td>
    			<td>#{customer.phoneNo}</td>
    			<td>#{customer.email}</td>
    			<td>#{customer.industryType.industryType}</td>
    			<td>
    				<h:link value="View | " outcome="/faces/customer/customerDetails.xhtml">
                                <!-- pass the parameter to next page, the param name is propertyID, and the value is index + 1.
                                  You can get the value from next page using the indexController -->
                                  <f:param name="customerID" value="#{customer.customerId}"/>
                   </h:link>
                   <h:link value="Edit | " outcome="/faces/customer/customerEdit.xhtml">
                                <!-- pass the parameter to next page, the param name is propertyID, and the value is index + 1.
                                  You can get the value from next page using the indexController -->
                                  <f:param name="customerID" value="#{customer.customerId}"/>
                   </h:link>
                   <h:commandLink value="Delete" action="#{customerController.deleteCustomer(customer)}">
                                </h:commandLink>
    			</td>
    			
    		</tr>
		</c:forEach>	
		</tbody>	
			
		
	</table>
</h:form>
</h:body>
</ui:define>
</ui:composition>

</html>