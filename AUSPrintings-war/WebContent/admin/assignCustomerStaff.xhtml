<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<!-- 
<h:head>
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css"/>
</h:head> -->



<ui:composition template="../header.xhtml">
	<ui:define name="headerContents">
		<h:outputStylesheet library="css" name="bootstrap.min.css"></h:outputStylesheet>
	</ui:define>
	<ui:define name="PageTitle">
		<h> <b>Customer Details</b></h>
	</ui:define>
	<ui:define name="content">


		<h:body>
			<div class="container">
				<h:form id="myform">
					<table class="table table-bordered ">
						<tr>
							<td><h:outputLabel for="selectedCustomer"
									value="Select Customer" /></td>
							<td>
							
							<h:selectOneMenu
									value="#{assignCustomerStaffBean.selectedCustomerId}" >
									
									<f:selectItem itemValue="0" itemLabel="Select Customer" />
									<f:selectItems value="#{assignCustomerStaffBean.allCustomers}"
										var="customer" itemValue="#{customer.customerId}"
										itemLabel="#{customer.customerId}-#{customer.firstName} #{customer.lastName}" id="selectCustomer1"/>
									<f:ajax event="change"
										listener="#{assignCustomerStaffBean.getStaffFromCustomer(assignCustomerStaffBean.selectedCustomerId)}"
										execute="myform" render="currentStaff">
									</f:ajax>



								</h:selectOneMenu></td>
						</tr>


						<tr>
							<td><h:outputLabel 
									value="Current Staff" /></td>
							

							<td valign="bottom"><h:outputLabel id="currentStaff">#{assignCustomerStaffBean.currentStaff.agentId}-#{assignCustomerStaffBean.currentStaff.firstName} #{assignCustomerStaffBean.currentStaff.lastName} </h:outputLabel>
							</td>
						</tr>



						<tr>
							<td><h:outputLabel for="selectedStaff" id="selectedStaff"
									value="Assign to staff" /></td>
							<td><h:selectOneMenu
									value="#{assignCustomerStaffBean.selectedStaffId}">
									<f:selectItems value="#{assignCustomerStaffBean.staffs}"
										var="staff" itemValue="#{staff.agentId}"
										itemLabel="#{staff.agentId}-#{staff.firstName} #{staff.lastName}" />
								</h:selectOneMenu></td>
						</tr>



					</table>

				<h:commandButton id="save" value="Save"
					action="#{assignCustomerStaffBean.saveAllocation()}"
					class="btn btn-primary">
					
				</h:commandButton>
				
			<h:link id="close" value="Close" outcome="/faces/customer/manageCustomers.xhtml"
					class="btn btn-primary" />	


				</h:form>

			</div>

		</h:body>
	</ui:define>
</ui:composition>
</html>

